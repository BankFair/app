(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{136:function(e,n,t){"use strict";t.r(n);var r=t(2640),a=t(29),i=t(5988),s=t.n(i),u=t(7794),c=t.n(u),o=t(5553),l=t(2593),d=t(9008),x=t(7294),h=t(9473),m=t(6870),p=t(8940),f=t(5575),b=t(3941),j=t(5893),v="Borrow - ".concat(m.iC);function g(){var e=(0,x.useState)(!1),n=e[0],t=e[1],i=(0,x.useState)("100"),s=i[0],u=i[1],d=(0,x.useState)("86400"),p=d[0],v=d[1],g=(0,h.v9)(b.qo),w=(0,h.v9)(b.n2),_=(0,h.v9)(b.Cu),k=(0,m.mA)(),N=(0,m.yL)(),y=g===k,A=!w||!k||!N||void 0===_||y,C=A?void 0:function(e){e.preventDefault(),t(!0);var n=(0,o.vz)(s,_),i=l.O$.from(p),u=N.getSigner();Promise.all([f.LJ.minAmount(),f.LJ.minDuration(),f.LJ.maxDuration()]).then(function(){var e=(0,a.Z)(c().mark((function e(a){var s,l,d,x;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(0,r.Z)(a,3),l=s[0],d=s[1],x=s[2],!n.lt(l)){e.next=5;break}return alert("Amount must be higher than ".concat((0,o.bM)(l,_))),t(!1),e.abrupt("return");case 5:if(!i.lt(d)){e.next=9;break}return alert("Amount must be higher than ".concat((0,o.bM)(d,_))),t(!1),e.abrupt("return");case 9:if(!i.gt(x)){e.next=13;break}return alert("Amount must be lower than ".concat((0,o.bM)(x,_))),t(!1),e.abrupt("return");case 13:return e.next=15,f.LJ.connect(u).requestLoan(n,i);case 15:t(!1);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())};return(0,j.jsxs)("form",{className:"section",onSubmit:C,children:[(0,j.jsx)("h4",{children:"Request loan"}),y&&(0,j.jsx)("div",{children:"Manager can not request a loan"}),(0,j.jsx)("table",{children:(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Amount"}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{type:"number",inputMode:"decimal",onChange:function(e){u(e.target.value)},value:s})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Duration"}),(0,j.jsx)("td",{children:(0,j.jsx)("input",{type:"number",inputMode:"decimal",onChange:function(e){v(e.target.value)},value:p})})]})]})}),(0,j.jsx)("button",{disabled:A||n,children:"Request loan"})]})}n.default=function(){return(0,j.jsxs)(p.T3,{children:[(0,j.jsxs)(d.default,{children:[(0,j.jsx)("title",{className:"jsx-2162742380",children:v}),(0,j.jsx)("meta",{name:"description",content:"",className:"jsx-2162742380"}),(0,j.jsx)("link",{rel:"icon",href:"/favicon.ico",className:"jsx-2162742380"})]}),(0,j.jsx)(s(),{id:"2162742380",children:[".page>.section{max-width:300px;margin:10px auto;border:1px solid grey;border-radius:8px;text-align:center;padding:20px 0;}",".page>.section>h4{margin:0 0 10px;}",".page>.section>table{margin:0 auto;}","h3{text-align:center;}"]}),(0,j.jsx)(g,{})]})}},8002:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/borrow",function(){return t(136)}])}},function(e){e.O(0,[955,774,888,179],(function(){return n=8002,e(e.s=n);var n}));var n=e.O();_N_E=n}]);